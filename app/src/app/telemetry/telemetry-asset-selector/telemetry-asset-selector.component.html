<section class="selector-shell">
  <p class="selector-label">Select assets (max {{ maxSelection() }})</p>

  <p-multiselect
    [options]="assets()"
    [ngModel]="selectedAssetIds()"
    (ngModelChange)="onSelectionChange($event)"
    [selectionLimit]="maxSelection()"
    [showToggleAll]="false"
    [showClear]="true"
    [filter]="true"
    [display]="'chip'"
    [optionLabel]="'name'"
    [optionValue]="'id'"
    [maxSelectedLabels]="maxSelection()"
    [placeholder]="'Choose up to ' + maxSelection() + ' assets'"
    appendTo="body"
    styleClass="asset-multiselect"
  >
    <ng-template pTemplate="item" let-asset>
      <div class="asset-option-row">
        <span class="asset-option-name">{{ asset.name }}</span>
        <span class="asset-option-meta">{{ asset.type | titlecase }} Â· {{ asset.location }}</span>
      </div>
    </ng-template>
  </p-multiselect>
</section>
